import{h as c,i as f}from"./index-a25f16bf.js";const p=c("counter",{state:()=>({data:null,filter:{categories:[],starlevel:[],sortBy:""}}),actions:{async fetchData(){try{const t=Array.from(this.filter.categories),i=Array.from(this.filter.starlevel),r=this.filter.sortBy,o=(await f.get("https://food-hub-json-server.vercel.app/store")).data.filter(({description:e,star:s})=>{if(t.length>0&&e.split(" ").filter(n=>t.includes(n)).length===0)return!1;if(i.length>0){const l=Math.min(...i.map(Number));if(s<l)return!1}return!0});o.sort((e,s)=>r==="peicelow"?e.price-s.price:r==="pricehigh"?s.price-e.price:r==="starlow"?e.star-s.star:r==="starhigh"?s.star-e.star:0),this.data=o}catch(t){console.error(t)}},updateData(t){const{categories:i,starlevel:r,sortBy:a}=t;this.filter.categories=Array.from(i),this.filter.starlevel=Array.from(r),this.filter.sortBy=a,this.fetchData()}}});export{p as u};
